{"ast":null,"code":"/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\nimport * as $array from \"./Array\";\nimport * as $type from \"./Type\";\n/**\r\n * ============================================================================\r\n * UTILITY FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\n\n/**\r\n * Returns an iterator for all entries in object.\r\n *\r\n * Can be used to safely iterate through all properties of the object.\r\n *\r\n * @param object  Source object\r\n * @returns Iterator\r\n */\n\nexport function entries(object) {\n  return function (push) {\n    // TODO make this more efficient ?\n    for (var key in object) {\n      if (hasKey(object, key)) {\n        if (!push([key, object[key]])) {\n          break;\n        }\n      }\n    }\n  };\n}\n/**\r\n * Returns an array of object's property names.\r\n *\r\n * @param object  Source object\r\n * @returns Object property names\r\n */\n\nexport function keys(object) {\n  var output = [];\n\n  for (var key in object) {\n    if (hasKey(object, key)) {\n      output.push(key);\n    }\n  }\n\n  return output;\n}\n/**\r\n * Returns an array of object's property names ordered using specific ordering\r\n * function.\r\n *\r\n * @param object  Source object\r\n * @param order   Ordering function\r\n * @returns Object property names\r\n */\n\nexport function keysOrdered(object, order) {\n  return keys(object).sort(order);\n}\n/**\r\n * Checks if `object` has a specific `key`.\r\n *\r\n * @param object  Source object\r\n * @param key     Property name\r\n * @returns Has key?\r\n */\n\nexport function hasKey(object, key) {\n  return {}.hasOwnProperty.call(object, key);\n}\n/**\r\n * Returns value of the specific `key`.\r\n *\r\n * @param object  Source object\r\n * @param key     Property name\r\n * @returns Key value\r\n */\n\nexport function getKey(object, key) {\n  return object[key];\n}\n/**\r\n * Iterates through all properties of the object calling `fn` for each of them.\r\n *\r\n * If return value of the function evaluates to `false` further iteration is\r\n * cancelled.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n */\n\nexport function eachContinue(object, fn) {\n  for (var key in object) {\n    if (hasKey(object, key)) {\n      if (!fn(key, object[key])) {\n        break;\n      }\n    }\n  }\n}\n/**\r\n * Iterates through all properties of the object calling `fn` for each of them.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n */\n\nexport function each(object, fn) {\n  eachContinue(object, function (key, value) {\n    fn(key, value);\n    return true;\n  });\n}\n/**\r\n * Orders object properties using custom `ord` function and iterates through\r\n * them calling `fn` for each of them.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n * @param order   Ordering function\r\n */\n\nexport function eachOrdered(object, fn, ord) {\n  $array.each(keysOrdered(object, ord), function (key) {\n    fn(key, object[key]);\n  });\n}\n/**\r\n * Returns a copy of the object.\r\n *\r\n * @param object  Source object\r\n * @returns Copy of the object\r\n */\n\nexport function copy(object) {\n  return Object.assign({}, object);\n}\n/**\r\n * Merges two objects and returns a new object that contains properties from\r\n * both source objects.\r\n *\r\n * @param object1  Source object #1\r\n * @param object2  Source object #2\r\n * @returns Combined object\r\n */\n\nexport function merge(object1, object2) {\n  return Object.assign({}, object1, object2);\n}\n/**\r\n * Returns object clone.\r\n *\r\n * @param object  Source object\r\n * @returns       Clone\r\n */\n\nexport function clone(object) {\n  return JSON.parse(JSON.stringify(object));\n}\n/**\r\n * Copies a list of properties from one object to another.\r\n *\r\n * Will not copy empty properties.\r\n *\r\n * @param source  Source object\r\n * @param target    Target object\r\n * @param keys  List of keys to copy\r\n */\n\nexport function copyProperties(source, target, keys) {\n  $array.each(keys, function (key) {\n    if ($type.hasValue(source[key])) {\n      target[key] = source[key];\n    }\n  });\n}\n/**\r\n * Copies a list of properties from one object to another only if target does't have value of the property set.\r\n *\r\n * Will not copy empty properties.\r\n *\r\n * @param source  Source object\r\n * @param target    Target object\r\n * @param keys  List of keys to copy\r\n */\n\nexport function softCopyProperties(source, target, keys) {\n  $array.each(keys, function (key) {\n    if ($type.hasValue(source[key]) && !$type.hasValue(target[key])) {\n      target[key] = source[key];\n    }\n  });\n}\n/**\r\n * Copies a list of properties from one object to another.\r\n *\r\n * Will copy empty properties.\r\n *\r\n * @param source  Source object\r\n * @param target    Target object\r\n * @param keys  List of keys to copy\r\n */\n\nexport function forceCopyProperties(source, target, keys) {\n  $array.each(keys, function (key) {\n    target[key] = source[key];\n  });\n}\n/**\r\n * Copies all properties from one object to another.\r\n *\r\n * @param from  Source object\r\n * @param to    Target object\r\n */\n\nexport function copyAllProperties(from, to) {\n  copyProperties(from, to, keys(from));\n}","map":{"version":3,"mappings":"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","names":["$array","$type","entries","object","push","key","hasKey","keys","output","keysOrdered","order","sort","hasOwnProperty","call","getKey","eachContinue","fn","each","value","eachOrdered","ord","copy","Object","assign","merge","object1","object2","clone","JSON","parse","stringify","copyProperties","source","target","hasValue","softCopyProperties","forceCopyProperties","copyAllProperties","from","to"],"sourceRoot":"","sources":["../../../../../src/.internal/core/utils/Object.ts"],"sourcesContent":["/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $array from \"./Array\";\r\nimport * as $iter from \"./Iterator\";\r\nimport * as $type from \"./Type\";\r\nimport { Ordering } from \"./Order\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * UTILITY FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Returns an iterator for all entries in object.\r\n *\r\n * Can be used to safely iterate through all properties of the object.\r\n *\r\n * @param object  Source object\r\n * @returns Iterator\r\n */\r\nexport function entries<Object>(object: Object): $iter.Iterator<[$type.Keyof<Object>, Object[$type.Keyof<Object>]]> {\r\n\treturn (push) => {\r\n\t\t// TODO make this more efficient ?\r\n\t\tfor (let key in object) {\r\n\t\t\tif (hasKey(object, key)) {\r\n\t\t\t\tif (!push([key as $type.Keyof<Object>, object[key] as Object[$type.Keyof<Object>]])) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\n/**\r\n * Returns an array of object's property names.\r\n *\r\n * @param object  Source object\r\n * @returns Object property names\r\n */\r\nexport function keys<Object>(object: Object): Array<$type.Keyof<Object>> {\r\n\tconst output = [];\r\n\r\n\tfor (let key in object) {\r\n\t\tif (hasKey(object, key)) {\r\n\t\t\toutput.push(key as $type.Keyof<Object>);\r\n\t\t}\r\n\t}\r\n\r\n\treturn output;\r\n}\r\n\r\n/**\r\n * Returns an array of object's property names ordered using specific ordering\r\n * function.\r\n *\r\n * @param object  Source object\r\n * @param order   Ordering function\r\n * @returns Object property names\r\n */\r\nexport function keysOrdered<Object>(object: Object, order: (a: $type.Keyof<Object>, b: $type.Keyof<Object>) => Ordering): Array<$type.Keyof<Object>> {\r\n\treturn keys(object).sort(order);\r\n}\r\n\r\n/**\r\n * Checks if `object` has a specific `key`.\r\n *\r\n * @param object  Source object\r\n * @param key     Property name\r\n * @returns Has key?\r\n */\r\nexport function hasKey<Object, Key extends keyof Object>(object: Object, key: Key): boolean {\r\n\treturn {}.hasOwnProperty.call(object, key);\r\n}\r\n\r\n/**\r\n * Returns value of the specific `key`.\r\n *\r\n * @param object  Source object\r\n * @param key     Property name\r\n * @returns Key value\r\n */\r\nexport function getKey<Object, Key extends keyof Object>(object: Object, key: Key): Object[Key] {\r\n\treturn object[key];\r\n}\r\n\r\n/**\r\n * Iterates through all properties of the object calling `fn` for each of them.\r\n *\r\n * If return value of the function evaluates to `false` further iteration is\r\n * cancelled.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n */\r\nexport function eachContinue<Object>(object: Object, fn: <Key extends $type.Keyof<Object>>(key: Key, value: Object[Key]) => boolean): void {\r\n\tfor (let key in object) {\r\n\t\tif (hasKey(object, key)) {\r\n\t\t\tif (!fn(key as $type.Keyof<Object>, object[key] as Object[$type.Keyof<Object>])) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Iterates through all properties of the object calling `fn` for each of them.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n */\r\nexport function each<Object>(object: Object, fn: <Key extends $type.Keyof<Object>>(key: Key, value: Object[Key]) => void): void {\r\n\teachContinue(object, (key, value) => {\r\n\t\tfn(key, value);\r\n\t\treturn true;\r\n\t});\r\n}\r\n\r\n/**\r\n * Orders object properties using custom `ord` function and iterates through\r\n * them calling `fn` for each of them.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n * @param order   Ordering function\r\n */\r\nexport function eachOrdered<Object>(object: Object, fn: <Key extends $type.Keyof<Object>>(key: Key, value: Object[Key]) => void, ord: (a: $type.Keyof<Object>, b: $type.Keyof<Object>) => Ordering): void {\r\n\t$array.each(keysOrdered(object, ord), (key) => {\r\n\t\tfn(key, object[key]);\r\n\t});\r\n}\r\n\r\n/**\r\n * Returns a copy of the object.\r\n *\r\n * @param object  Source object\r\n * @returns Copy of the object\r\n */\r\nexport function copy<Object>(object: Object): Object {\r\n\treturn Object.assign({}, object);\r\n}\r\n\r\n/**\r\n * Merges two objects and returns a new object that contains properties from\r\n * both source objects.\r\n *\r\n * @param object1  Source object #1\r\n * @param object2  Source object #2\r\n * @returns Combined object\r\n */\r\nexport function merge<Object1, Object2>(object1: Object1, object2: Object2): Object1 & Object2 {\r\n\treturn Object.assign({}, object1, object2);\r\n}\r\n\r\n/**\r\n * Returns object clone.\r\n *\r\n * @param object  Source object\r\n * @returns       Clone\r\n */\r\nexport function clone<Object>(object: Object): Object {\r\n\treturn JSON.parse(JSON.stringify(object));\r\n}\r\n/**\r\n * Copies a list of properties from one object to another.\r\n *\r\n * Will not copy empty properties.\r\n *\r\n * @param source  Source object\r\n * @param target    Target object\r\n * @param keys  List of keys to copy\r\n */\r\nexport function copyProperties(source: { [key: string]: any }, target: { [key: string]: any }, keys: Array<string>): void {\r\n\t$array.each(keys, (key) => {\r\n\t\tif ($type.hasValue(source[key])) {\r\n\t\t\ttarget[key] = source[key];\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * Copies a list of properties from one object to another only if target does't have value of the property set.\r\n *\r\n * Will not copy empty properties.\r\n *\r\n * @param source  Source object\r\n * @param target    Target object\r\n * @param keys  List of keys to copy\r\n */\r\nexport function softCopyProperties(source: { [key: string]: any }, target: { [key: string]: any }, keys: Array<string>): void {\r\n\t$array.each(keys, (key) => {\r\n\t\tif ($type.hasValue(source[key]) && !($type.hasValue((<any>target)[key]))) {\r\n\t\t\ttarget[key] = source[key];\r\n\t\t}\r\n\t});\r\n}\r\n\r\n/**\r\n * Copies a list of properties from one object to another.\r\n *\r\n * Will copy empty properties.\r\n *\r\n * @param source  Source object\r\n * @param target    Target object\r\n * @param keys  List of keys to copy\r\n */\r\nexport function forceCopyProperties(source: { [key: string]: any }, target: { [key: string]: any }, keys: Array<string>): void {\r\n\t$array.each(keys, (key) => {\r\n\t\ttarget[key] = source[key];\r\n\t});\r\n}\r\n\r\n/**\r\n * Copies all properties from one object to another.\r\n *\r\n * @param from  Source object\r\n * @param to    Target object\r\n */\r\nexport function copyAllProperties(from: { [key: string]: any }, to: { [key: string]: any }): void {\r\n\tcopyProperties(from, to, keys(from));\r\n}\r\n"]},"metadata":{},"sourceType":"module"}