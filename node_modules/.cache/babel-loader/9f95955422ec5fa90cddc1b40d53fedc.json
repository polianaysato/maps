{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\polia\\\\Desktop\\\\Overlay\\\\src\\\\components\\\\Popup.tsx\",\n    _s = $RefreshSig$();\n\n// @ts-nocheck\nimport { PlaceOutlined } from \"@material-ui/icons\";\nimport { useRef, useEffect, useState } from \"react\";\nimport * as am4core from \"@amcharts/amcharts4/core\";\nimport * as am4charts from '@amcharts/amcharts4/charts';\nimport { makeStyles } from \"@material-ui/styles\";\nimport { miles6, miles12, miles18 } from \"../helpers/Utils\";\nimport shortid from 'shortid';\nimport { Divider } from \"@material-ui/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'block',\n    margin: 'auto',\n    width: 'auto'\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n    paddingTop: -13,\n    paddingBottom: 10\n  },\n  title: {\n    fontSize: '13px',\n    fontFamily: 'Nunito Sans, sans-serif'\n  },\n  subTitle: {\n    fontSize: '13px',\n    fontFamily: 'Nunito Sans, sans-serif',\n    fontWeight: 'bold'\n  },\n  wrapper: {\n    display: 'block',\n    margin: 'auto',\n    height: '25em',\n    textAlign: 'center',\n    '& div': {\n      marginTop: -15\n    },\n    marginTop: 20\n  },\n  hidden: {\n    display: 'none'\n  }\n}));\nexport const Popup = _ref => {\n  _s();\n\n  let {\n    data\n  } = _ref;\n  const classes = useStyles();\n  const [label, setLabel] = useState();\n  const [zip, setZip] = useState();\n  const [open, setOpen] = useState(true);\n  const chartDiv6 = useRef('chartDiv' + shortid.generate());\n  const chartDiv12 = useRef('chartDiv' + shortid.generate());\n  const chartDiv18 = useRef('chartDiv' + shortid.generate());\n\n  const createPieSeries = (criteria, miles, chart) => {\n    let pieSeries = chart.series.push(new am4charts.PieSeries());\n    am4core.options.autoSetClassName = true;\n    pieSeries.dataFields.value = criteria;\n    pieSeries.dataFields.category = miles;\n    pieSeries.ticks.template.disabled = true;\n    pieSeries.alignLabels = false;\n    let labels = pieSeries.labels.template;\n    labels.text = \"[bold]{value} {category} \\n {percent}%[/]\";\n    pieSeries.tooltip.getFillFromObject = false;\n    pieSeries.tooltip.label.propertyFields.fill = \"#000\";\n    pieSeries.tooltip.background.propertyFields.stroke = \"color\";\n    labels.radius = am4core.percent(-40);\n    labels.fill = am4core.color(\"black\");\n    labels.wrap = true;\n    labels.truncate = true;\n    labels.maxWidth = 50;\n    pieSeries.slices.template.propertyFields.fill = \"color\"; //pieSeries.slices.template.propertyFields.showTooltipOn = false\n  };\n\n  useEffect(() => {\n    let properties = data && data.properties; //let coordinates = [ data.lngLat.lat, data.lngLat.lng ]\n\n    setLabel(properties.Label);\n    setZip(properties.Zip);\n    let chart6 = am4core.create(chartDiv6.current, am4charts.PieChart);\n    let chart12 = am4core.create(chartDiv12.current, am4charts.PieChart);\n    let chart18 = am4core.create(chartDiv18.current, am4charts.PieChart);\n    let chartData6 = [];\n    let chartData12 = [];\n    let chartData18 = [];\n    miles6.map(v => {\n      let obj = {\n        [`${v.miles}`]: v.criteria,\n        criteria: properties[v.value],\n        color: am4core.color(v.color),\n        percent: (properties[v.value] / properties[v.value]).toFixed(2)\n      };\n      chartData6.push(obj);\n      return chartData6;\n    });\n    chart6.data = chartData6;\n    miles12.map(v => {\n      let obj = {\n        [`${v.miles}`]: v.criteria,\n        criteria: properties[v.value],\n        color: am4core.color(v.color),\n        percent: (properties[v.value] / properties[v.value]).toFixed(2)\n      };\n      chartData12.push(obj);\n      return chartData12;\n    });\n    chart12.data = chartData12;\n    miles18.map(v => {\n      let obj = {\n        [`${v.miles}`]: v.criteria,\n        criteria: properties[v.value],\n        color: am4core.color(v.color),\n        percent: (properties[v.value] / properties[v.value]).toFixed(2)\n      };\n      chartData18.push(obj);\n      return chartData18;\n    });\n    chart18.data = chartData18; // Add and configure Series\n\n    createPieSeries('criteria', '6miles', chart6);\n    createPieSeries('criteria', '12miles', chart12);\n    createPieSeries('criteria', '18miles', chart18);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: open ? classes.container : classes.hidden,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.header,\n      children: [/*#__PURE__*/_jsxDEV(PlaceOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: classes.title,\n        children: [label, \" - \", zip]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.header,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.wrapper,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: classes.subTitle,\n          children: \"6 miles\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: chartDiv6.current,\n          className: classes.wrapper\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.wrapper,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: classes.subTitle,\n          children: \"12 miles\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: chartDiv12.current,\n          className: classes.wrapper\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.wrapper,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: classes.subTitle,\n          children: \"18 miles\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: chartDiv18.current,\n          className: classes.wrapper\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Popup, \"rGVGWymilQndniEYrA96/p1Pm2c=\", false, function () {\n  return [useStyles];\n});\n\n_c = Popup;\n\nvar _c;\n\n$RefreshReg$(_c, \"Popup\");","map":{"version":3,"sources":["C:/Users/polia/Desktop/Overlay/src/components/Popup.tsx"],"names":["PlaceOutlined","useRef","useEffect","useState","am4core","am4charts","makeStyles","miles6","miles12","miles18","shortid","Divider","useStyles","theme","container","display","margin","width","header","alignItems","justifyContent","paddingTop","paddingBottom","title","fontSize","fontFamily","subTitle","fontWeight","wrapper","height","textAlign","marginTop","hidden","Popup","data","classes","label","setLabel","zip","setZip","open","setOpen","chartDiv6","generate","chartDiv12","chartDiv18","createPieSeries","criteria","miles","chart","pieSeries","series","push","PieSeries","options","autoSetClassName","dataFields","value","category","ticks","template","disabled","alignLabels","labels","text","tooltip","getFillFromObject","propertyFields","fill","background","stroke","radius","percent","color","wrap","truncate","maxWidth","slices","properties","Label","Zip","chart6","create","current","PieChart","chart12","chart18","chartData6","chartData12","chartData18","map","v","obj","toFixed"],"mappings":"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","sourcesContent":["// @ts-nocheck\nimport { PlaceOutlined } from \"@material-ui/icons\"\nimport { useRef, useEffect, useState } from \"react\"\nimport * as am4core from \"@amcharts/amcharts4/core\"\nimport * as am4charts from '@amcharts/amcharts4/charts'\nimport { makeStyles } from \"@material-ui/styles\"\nimport { miles6, miles12, miles18 } from \"../helpers/Utils\"\nimport shortid from 'shortid'\nimport { Divider } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    container: {\n        display: 'block', \n        margin: 'auto', \n        width: 'auto'\n    },\n    header: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        width: '100%',\n        paddingTop: -13,\n        paddingBottom: 10\n    },\n    title: {\n        fontSize: '13px',\n        fontFamily: 'Nunito Sans, sans-serif',\n    },\n    subTitle: {\n        fontSize: '13px',\n        fontFamily: 'Nunito Sans, sans-serif',\n        fontWeight: 'bold'\n    },\n    wrapper: {\n        display: 'block',\n        margin: 'auto',\n        height: '25em',\n        textAlign: 'center',\n        '& div': {\n            marginTop: -15\n        },\n        marginTop: 20\n    },\n    hidden: {\n        display: 'none'\n    }\n}))\n\nexport const Popup = ({ data }) => {\n\n    const classes = useStyles()\n    const [label, setLabel] = useState()\n    const [zip, setZip] = useState()\n    const [open, setOpen] = useState(true)\n\n    const chartDiv6 = useRef<string>('chartDiv' + shortid.generate())\n    const chartDiv12 = useRef<string>('chartDiv' + shortid.generate())\n    const chartDiv18 = useRef<string>('chartDiv' + shortid.generate())\n\n    const createPieSeries = (criteria: string, miles: string, chart: any) => {\n        let pieSeries = chart.series.push(new am4charts.PieSeries())\n        am4core.options.autoSetClassName = true\n        pieSeries.dataFields.value = criteria\n        pieSeries.dataFields.category = miles\n    \n        pieSeries.ticks.template.disabled = true\n        pieSeries.alignLabels = false\n        let labels = pieSeries.labels.template\n        labels.text = \"[bold]{value} {category} \\n {percent}%[/]\"\n\n        pieSeries.tooltip.getFillFromObject = false\n        pieSeries.tooltip.label.propertyFields.fill = \"#000\"\n        pieSeries.tooltip.background.propertyFields.stroke = \"color\"\n    \n        labels.radius = am4core.percent(-40)\n        labels.fill = am4core.color(\"black\")\n        labels.wrap = true\n        labels.truncate = true\n        labels.maxWidth = 50\n\n    \n        pieSeries.slices.template.propertyFields.fill = \"color\"\n        //pieSeries.slices.template.propertyFields.showTooltipOn = false\n    }\n\n    useEffect(() => {\n        let properties = data && data!.properties\n        //let coordinates = [ data.lngLat.lat, data.lngLat.lng ]\n\n        setLabel(properties.Label)\n        setZip(properties.Zip)\n\n        let chart6 = am4core.create(chartDiv6.current, am4charts.PieChart)\n        let chart12 = am4core.create(chartDiv12.current, am4charts.PieChart)\n        let chart18 = am4core.create(chartDiv18.current, am4charts.PieChart)\n\n\n        let chartData6 = []\n        let chartData12 = []\n        let chartData18 = []\n        miles6.map((v) => {\n          let obj = { [`${v.miles}`]: v.criteria, criteria: properties[v.value], color: am4core.color(v.color), percent: (properties[v.value] / properties[v.value]).toFixed(2)}\n          chartData6.push(obj)\n          return chartData6\n        })\n\n        chart6.data = chartData6\n\n        miles12.map((v) => {\n            let obj = { [`${v.miles}`]: v.criteria, criteria: properties[v.value], color: am4core.color(v.color), percent: (properties[v.value] / properties[v.value]).toFixed(2)}\n          chartData12.push(obj)\n          return chartData12\n        })\n\n        chart12.data = chartData12\n\n        miles18.map((v) => {\n            let obj = { [`${v.miles}`]: v.criteria, criteria: properties[v.value], color: am4core.color(v.color), percent: (properties[v.value] / properties[v.value]).toFixed(2)}\n          chartData18.push(obj)\n          return chartData18\n        })\n\n        chart18.data = chartData18 \n\n        // Add and configure Series\n        createPieSeries('criteria', '6miles', chart6)\n        createPieSeries('criteria', '12miles', chart12)\n        createPieSeries('criteria', '18miles', chart18) \n\n\n    })\n    \n    \n    return (\n        <div className={open? classes.container : classes.hidden}>\n            <div className={classes.header}>\n                <PlaceOutlined />\n                <span className={classes.title}>{label} - {zip}</span>\n            </div>\n            <Divider />\n            <div className={classes.header}>\n                <div className={classes.wrapper}>\n                    <span className={classes.subTitle}>6 miles</span>\n                    <div id={chartDiv6.current} className={classes.wrapper}></div>\n                </div>\n                <div className={classes.wrapper}>\n                    <span className={classes.subTitle}>12 miles</span>\n                    <div id={chartDiv12.current} className={classes.wrapper}></div>\n                </div>\n                <div className={classes.wrapper}>\n                    <span className={classes.subTitle}>18 miles</span>\n                    <div id={chartDiv18.current} className={classes.wrapper}></div>\n                </div>\n            </div>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}