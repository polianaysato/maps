{"ast":null,"code":"/**\r\n * FlowDiagramNode module\r\n */\nimport { __extends } from \"tslib\";\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\n\nimport { Container } from \"../../core/Container\";\nimport { visualProperties } from \"../../core/Sprite\";\nimport { List } from \"../../core/utils/List\";\nimport { registry } from \"../../core/Registry\";\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\nimport * as $iter from \"../../core/utils/Iterator\";\nimport * as $string from \"../../core/utils/String\";\nimport * as $order from \"../../core/utils/Order\";\nimport * as $number from \"../../core/utils/Number\";\nimport { RoundedRectangle } from \"../../core/elements/RoundedRectangle\";\nimport * as $object from \"../../core/utils/Object\";\nimport { LegendSettings } from \"../Legend\";\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\n\n/**\r\n * Creates a node in a Flow Diagram.\r\n *\r\n * A Flow node is a block with a value, which represents its size on the\r\n * diagram.\r\n *\r\n * Nodes are connected via [[FlowLink]] elements.\r\n *\r\n * @see {@link IFlowDiagramNodeEvents} for a list of available events\r\n * @see {@link IFlowDiagramNodeAdapters} for a list of available Adapters\r\n * @important\r\n */\n\nvar FlowDiagramNode =\n/** @class */\nfunction (_super) {\n  __extends(FlowDiagramNode, _super);\n  /**\r\n   * Constructor\r\n   */\n\n\n  function FlowDiagramNode() {\n    var _this = _super.call(this) || this;\n    /**\r\n     * Settings for the appearance of the related legend items.\r\n     */\n\n\n    _this.legendSettings = new LegendSettings();\n    _this.className = \"FlowDiagramNode\";\n    _this.isMeasured = false; // TODO can this be removed ?\n\n    new InterfaceColorSet();\n    _this.draggable = true;\n    _this.inert = true;\n    _this.setStateOnChildren = true;\n\n    _this.events.on(\"positionchanged\", _this.invalidateLinks, _this, false);\n\n    _this.events.on(\"sizechanged\", _this.invalidateLinks, _this, false);\n\n    return _this; //this.events.on(\"hit\", this.handleHit, this, false);\n  }\n  /**\r\n   * @ignore\r\n   */\n\n\n  FlowDiagramNode.prototype.handleHit = function (event) {\n    if (this.isHidden || this.isHiding) {\n      this.show();\n    } else {\n      this.hide();\n    }\n  };\n  /**\r\n   * Shows hidden node.\r\n   *\r\n   * @param duration  Duration of reveal animation (ms)\r\n   * @return Animation\r\n   */\n\n\n  FlowDiagramNode.prototype.show = function (duration) {\n    var animation = _super.prototype.show.call(this, duration);\n\n    this.outgoingDataItems.each(function (dataItem) {\n      if (!dataItem.toNode || dataItem.toNode && !dataItem.toNode.isHidden) {\n        dataItem.setWorkingValue(\"value\", dataItem.getValue(\"value\"), duration);\n        dataItem.link.show();\n      }\n    });\n    this.incomingDataItems.each(function (dataItem) {\n      if (!dataItem.fromNode || dataItem.fromNode && !dataItem.fromNode.isHidden) {\n        dataItem.setWorkingValue(\"value\", dataItem.getValue(\"value\"), duration);\n        dataItem.link.show();\n      }\n    });\n    return animation;\n  };\n  /**\r\n   * Hides node.\r\n   *\r\n   * @param duration  Duration of hiding animation (ms)\r\n   * @return Animation\r\n   */\n\n\n  FlowDiagramNode.prototype.hide = function (duration) {\n    var animation = _super.prototype.hide.call(this, duration);\n\n    this.outgoingDataItems.each(function (dataItem) {\n      dataItem.setWorkingValue(\"value\", 0, duration);\n      dataItem.link.hide();\n    });\n    this.incomingDataItems.each(function (dataItem) {\n      dataItem.setWorkingValue(\"value\", 0, duration);\n      dataItem.link.hide();\n    });\n    return animation;\n  };\n  /**\r\n   * Marks node as invalid, for redrawal in the next update cycle.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n\n\n  FlowDiagramNode.prototype.validate = function () {\n    if (!this.isDisposed()) {\n      _super.prototype.validate.call(this);\n\n      this.invalidateLinks();\n    }\n  };\n  /**\r\n   * Invalidates all links, attached to this node.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n\n\n  FlowDiagramNode.prototype.invalidateLinks = function () {\n    var _this = this;\n\n    this.outgoingDataItems.each(function (dataItem) {\n      var link = dataItem.link;\n\n      if (link.colorMode == \"fromNode\") {\n        link.fill = link.dataItem.fromNode.color;\n      }\n\n      if (link.colorMode == \"gradient\") {\n        link.fill = link.gradient;\n        link.stroke = link.gradient;\n        var stop_1 = link.gradient.stops.getIndex(0);\n\n        if (stop_1) {\n          stop_1.color = _this.color;\n          link.gradient.validate();\n        }\n      }\n    });\n    this.incomingDataItems.each(function (dataItem) {\n      var link = dataItem.link;\n\n      if (link.colorMode == \"toNode\") {\n        link.fill = link.dataItem.toNode.color;\n      }\n\n      if (link.colorMode == \"gradient\") {\n        link.fill = link.gradient;\n        link.stroke = link.gradient;\n        var stop_2 = link.gradient.stops.getIndex(1);\n\n        if (stop_2) {\n          stop_2.color = _this.color;\n          link.gradient.validate();\n        }\n      }\n    });\n  };\n\n  Object.defineProperty(FlowDiagramNode.prototype, \"incomingDataItems\", {\n    /**\r\n     * List of incoming items (links).\r\n     *\r\n     * @readonly\r\n     * @return Incoming items\r\n     */\n    get: function get() {\n      var _this = this;\n\n      if (!this._incomingDataItems) {\n        var incomingDataItems = new List();\n        incomingDataItems.events.on(\"inserted\", function () {\n          if (_this.chart.sortBy == \"name\") {\n            _this._incomingSorted = $iter.sort(_this._incomingDataItems.iterator(), function (x, y) {\n              return $string.order(x.fromName, y.fromName);\n            });\n          } else if (_this.chart.sortBy == \"value\") {\n            _this._incomingSorted = $iter.sort(_this._incomingDataItems.iterator(), function (x, y) {\n              return $order.reverse($number.order(x.value, y.value));\n            });\n          } else {\n            _this._incomingSorted = _this._incomingDataItems.iterator();\n          }\n        }, undefined, false);\n        this._incomingDataItems = incomingDataItems;\n      }\n\n      return this._incomingDataItems;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FlowDiagramNode.prototype, \"outgoingDataItems\", {\n    /**\r\n     * List of outgoing items (links).\r\n     *\r\n     * @readonly\r\n     * @return Outgoing items\r\n     */\n    get: function get() {\n      var _this = this;\n\n      if (!this._outgoingDataItems) {\n        var outgoingDataItems = new List();\n        outgoingDataItems.events.on(\"inserted\", function () {\n          if (_this.chart.sortBy == \"name\") {\n            _this._outgoingSorted = $iter.sort(_this._outgoingDataItems.iterator(), function (x, y) {\n              return $string.order(x.fromName, y.fromName);\n            });\n          } else if (_this.chart.sortBy == \"value\") {\n            _this._outgoingSorted = $iter.sort(_this._outgoingDataItems.iterator(), function (x, y) {\n              return $order.reverse($number.order(x.value, y.value));\n            });\n          } else {\n            _this._outgoingSorted = _this._outgoingDataItems.iterator();\n          }\n        }, undefined, false);\n        this._outgoingDataItems = outgoingDataItems;\n      }\n\n      return this._outgoingDataItems;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FlowDiagramNode.prototype, \"name\", {\n    /**\r\n     * @return Name\r\n     */\n    get: function get() {\n      return this.getPropertyValue(\"name\");\n    },\n\n    /**\r\n     * A name of the node.\r\n     *\r\n     * @param value  Name\r\n     */\n    set: function set(value) {\n      this.setPropertyValue(\"name\", value, true);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FlowDiagramNode.prototype, \"total\", {\n    /**\r\n     * @return Value\r\n     */\n    get: function get() {\n      return this.getPropertyValue(\"total\");\n    },\n\n    /**\r\n     * Sum of all incoming+outgoing link values\r\n     *\r\n     * @param value  Value\r\n     */\n    set: function set(value) {\n      this.setPropertyValue(\"total\", value, true);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FlowDiagramNode.prototype, \"totalIncoming\", {\n    /**\r\n     * @return Value\r\n     */\n    get: function get() {\n      return this.getPropertyValue(\"totalIncoming\");\n    },\n\n    /**\r\n     * Sum of all incomming link values.\r\n     *\r\n     * @param value  Value\r\n     */\n    set: function set(value) {\n      this.setPropertyValue(\"totalIncoming\", value, true);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FlowDiagramNode.prototype, \"totalOutgoing\", {\n    /**\r\n     * @return Value\r\n     */\n    get: function get() {\n      return this.getPropertyValue(\"totalOutgoing\");\n    },\n\n    /**\r\n     * Sum of all outgoing link values.\r\n     *\r\n     * @param value  Value\r\n     */\n    set: function set(value) {\n      this.setPropertyValue(\"totalOutgoing\", value, true);\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(FlowDiagramNode.prototype, \"color\", {\n    /**\r\n     * @return Color\r\n     */\n    get: function get() {\n      return this.getPropertyValue(\"color\");\n    },\n\n    /**\r\n     * Node's color.\r\n     *\r\n     * @param value  Color\r\n     */\n    set: function set(value) {\n      this.setColorProperty(\"color\", value);\n\n      if (this._background) {\n        this._background.fill = value;\n      }\n\n      this.fill = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Creates elements in related legend container, that mimics the look of this\r\n   * Series.\r\n   *\r\n   * @ignore Exclude from docs\r\n   * @param marker  Legend item container\r\n   */\n\n  FlowDiagramNode.prototype.createLegendMarker = function (marker) {\n    var w = marker.pixelWidth;\n    var h = marker.pixelHeight;\n    marker.removeChildren();\n    var column = marker.createChild(RoundedRectangle);\n    column.shouldClone = false;\n    $object.copyProperties(this, column, visualProperties);\n    column.stroke = this.fill;\n    column.copyFrom(this);\n    column.padding(0, 0, 0, 0); // if columns will have padding (which is often), legend marker will be very narrow\n\n    column.width = w;\n    column.height = h;\n    var legendDataItem = marker.dataItem;\n    legendDataItem.color = column.fill;\n    legendDataItem.colorOrig = column.fill;\n  };\n\n  Object.defineProperty(FlowDiagramNode.prototype, \"legendDataItem\", {\n    /**\r\n     * @return Data item\r\n     */\n    get: function get() {\n      return this._legendDataItem;\n    },\n\n    /**\r\n     * Legend data item that corresponds to this series.\r\n     *\r\n     * @param value  Data item\r\n     */\n    set: function set(value) {\n      this._legendDataItem = value;\n\n      this._legendDataItem.itemContainer.deepInvalidate();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return FlowDiagramNode;\n}(Container);\n\nexport { FlowDiagramNode };\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\n\nregistry.registeredClasses[\"FlowDiagramNode\"] = FlowDiagramNode;","map":{"version":3,"mappings":"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","names":["Container","visualProperties","List","registry","InterfaceColorSet","$iter","$string","$order","$number","RoundedRectangle","$object","LegendSettings","__extends","_super","_this","className","isMeasured","draggable","inert","setStateOnChildren","events","on","invalidateLinks","FlowDiagramNode","event","isHidden","isHiding","show","hide","duration","animation","call","outgoingDataItems","each","dataItem","toNode","setWorkingValue","getValue","link","incomingDataItems","fromNode","isDisposed","validate","colorMode","fill","color","gradient","stroke","stop_1","stops","getIndex","stop_2","Object","_incomingDataItems","chart","sortBy","_incomingSorted","sort","iterator","x","y","order","fromName","reverse","value","undefined","_outgoingDataItems","_outgoingSorted","getPropertyValue","setPropertyValue","setColorProperty","_background","marker","w","pixelWidth","h","pixelHeight","removeChildren","column","createChild","shouldClone","copyProperties","copyFrom","padding","width","height","legendDataItem","colorOrig","_legendDataItem","itemContainer","deepInvalidate","registeredClasses"],"sourceRoot":"","sources":["../../../../../src/.internal/charts/elements/FlowDiagramNode.ts"],"sourcesContent":["/**\r\n * FlowDiagramNode module\r\n */\r\n\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Container, IContainerProperties, IContainerAdapters, IContainerEvents } from \"../../core/Container\";\r\nimport { Sprite, AMEvent, visualProperties, ISpriteEvents } from \"../../core/Sprite\";\r\nimport { FlowDiagram, FlowDiagramDataItem } from \"../types/FlowDiagram\";\r\nimport { List } from \"../../core/utils/List\";\r\nimport { registry } from \"../../core/Registry\";\r\nimport { Color } from \"../../core/utils/Color\";\r\nimport { InterfaceColorSet } from \"../../core/utils/InterfaceColorSet\";\r\nimport * as $iter from \"../../core/utils/Iterator\";\r\nimport * as $string from \"../../core/utils/String\";\r\nimport * as $order from \"../../core/utils/Order\";\r\nimport * as $number from \"../../core/utils/Number\";\r\nimport { RoundedRectangle } from \"../../core/elements/RoundedRectangle\";\r\nimport * as $object from \"../../core/utils/Object\";\r\nimport { LegendSettings, LegendDataItem } from \"../Legend\";\r\nimport { Animation } from \"../../core/utils/Animation\";\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * REQUISITES\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Defines properties for [[FlowDiagramNode]].\r\n */\r\nexport interface IFlowDiagramNodeProperties extends IContainerProperties {\r\n\r\n\t/**\r\n\t * Name of the node.\r\n\t */\r\n\tname?: string;\r\n\r\n\t/**\r\n\t * Sum of all incomming+outgoing link values\r\n\t */\r\n\ttotal?: number;\r\n\r\n\t/**\r\n\t * Sum of all incoming link values\r\n\t */\r\n\ttotalIncoming?: number;\r\n\r\n\t/**\r\n\t * Sum of all outgoing link values\r\n\t */\r\n\ttotalOutgoing?: number;\r\n\r\n\t/**\r\n\t * Node's color.\r\n\t */\r\n\tcolor?: Color;\r\n\r\n}\r\n\r\n/**\r\n * Defines events for [[FlowDiagramNode]].\r\n */\r\nexport interface IFlowDiagramNodeEvents extends IContainerEvents { }\r\n\r\n/**\r\n * Defines adapters for [[FlowDiagramNode]].\r\n *\r\n * @see {@link Adapter}\r\n */\r\nexport interface IFlowDiagramNodeAdapters extends IContainerAdapters, IFlowDiagramNodeProperties { }\r\n\r\n\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n\r\n/**\r\n * Creates a node in a Flow Diagram.\r\n *\r\n * A Flow node is a block with a value, which represents its size on the\r\n * diagram.\r\n *\r\n * Nodes are connected via [[FlowLink]] elements.\r\n *\r\n * @see {@link IFlowDiagramNodeEvents} for a list of available events\r\n * @see {@link IFlowDiagramNodeAdapters} for a list of available Adapters\r\n * @important\r\n */\r\nexport class FlowDiagramNode extends Container {\r\n\r\n\t/**\r\n\t * total ajusted taken in mind chart.minNodeSize\r\n\t */\r\n\tpublic adjustedTotal: number;\r\n\r\n\t/**\r\n\t * Defines available properties.\r\n\t */\r\n\tpublic _properties!: IFlowDiagramNodeProperties;\r\n\r\n\t/**\r\n\t * Defines available adapters.\r\n\t */\r\n\tpublic _adapter!: IFlowDiagramNodeAdapters;\r\n\r\n\t/**\r\n\t * Defines available events.\r\n\t */\r\n\tpublic _events!: IFlowDiagramNodeEvents;\r\n\r\n\t/**\r\n\t * A list of data items of the items coming in from another node, one level\r\n\t * up.\r\n\t *\r\n\t * These are what ingoing links are build out of.\r\n\t */\r\n\tprotected _incomingDataItems: List<this[\"_dataItem\"]>;\r\n\r\n\t/**\r\n\t * A list of data items of the items going out of the node.\r\n\t *\r\n\t * These are what outgoing links are build out of.\r\n\t */\r\n\tprotected _outgoingDataItems: List<this[\"_dataItem\"]>;\r\n\r\n\t/**\r\n\t * Sorted list of incoming items.\r\n\t */\r\n\tprotected _incomingSorted: $iter.Iterator<this[\"_dataItem\"]>;\r\n\r\n\t/**\r\n\t * Sorted list of outgoing items.\r\n\t */\r\n\tprotected _outgoingSorted: $iter.Iterator<this[\"_dataItem\"]>;\r\n\r\n\t/**\r\n\t * A chart instance this node is added to.\r\n\t */\r\n\tpublic chart: FlowDiagram;\r\n\r\n\r\n\t/**\r\n\t * Defines the type of the [[FlowDiagramDataItem]] used in the class.\r\n\t */\r\n\tpublic _dataItem: FlowDiagramDataItem;\r\n\r\n\t/**\r\n\t * Settings for the appearance of the related legend items.\r\n\t */\r\n\tpublic legendSettings: LegendSettings = new LegendSettings();\r\n\r\n\r\n\t/**\r\n\t * A reference to the legend data item related to this node.\r\n\t */\r\n\tprotected _legendDataItem: LegendDataItem;\r\n\r\n\t/**\r\n\t * Constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.className = \"FlowDiagramNode\";\r\n\r\n\t\tthis.isMeasured = false;\r\n\r\n\t\t// TODO can this be removed ?\r\n\t\tnew InterfaceColorSet();\r\n\r\n\t\tthis.draggable = true;\r\n\t\tthis.inert = true;\r\n\r\n\t\tthis.setStateOnChildren = true;\r\n\r\n\t\tthis.events.on(\"positionchanged\", this.invalidateLinks, this, false);\r\n\t\tthis.events.on(\"sizechanged\", this.invalidateLinks, this, false);\r\n\t\t//this.events.on(\"hit\", this.handleHit, this, false);\r\n\t}\r\n\r\n\t/**\r\n\t * @ignore\r\n\t */\r\n\tpublic handleHit(event: AMEvent<Sprite, ISpriteEvents>[\"hit\"]) {\r\n\t\tif (this.isHidden || this.isHiding) {\r\n\t\t\tthis.show();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.hide();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Shows hidden node.\r\n\t *\r\n\t * @param duration  Duration of reveal animation (ms)\r\n\t * @return Animation\r\n\t */\r\n\tpublic show(duration?: number): Animation {\r\n\t\tlet animation = super.show(duration);\r\n\r\n\t\tthis.outgoingDataItems.each(function(dataItem) {\r\n\t\t\tif (!dataItem.toNode || (dataItem.toNode && !dataItem.toNode.isHidden)) {\r\n\t\t\t\tdataItem.setWorkingValue(\"value\", dataItem.getValue(\"value\"), duration);\r\n\t\t\t\tdataItem.link.show();\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.incomingDataItems.each(function(dataItem) {\r\n\t\t\tif (!dataItem.fromNode || (dataItem.fromNode && !dataItem.fromNode.isHidden)) {\r\n\t\t\t\tdataItem.setWorkingValue(\"value\", dataItem.getValue(\"value\"), duration);\r\n\t\t\t\tdataItem.link.show();\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\treturn animation;\r\n\t}\r\n\r\n\t/**\r\n\t * Hides node.\r\n\t *\r\n\t * @param duration  Duration of hiding animation (ms)\r\n\t * @return Animation\r\n\t */\r\n\tpublic hide(duration?: number): Animation {\r\n\t\tlet animation = super.hide(duration);\r\n\r\n\t\tthis.outgoingDataItems.each(function(dataItem) {\r\n\t\t\tdataItem.setWorkingValue(\"value\", 0, duration);\r\n\t\t\tdataItem.link.hide();\r\n\t\t})\r\n\r\n\t\tthis.incomingDataItems.each(function(dataItem) {\r\n\t\t\tdataItem.setWorkingValue(\"value\", 0, duration);\r\n\t\t\tdataItem.link.hide();\r\n\t\t})\r\n\r\n\t\treturn animation;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Marks node as invalid, for redrawal in the next update cycle.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic validate(): void {\r\n\t\tif(!this.isDisposed()){\r\n\t\t\tsuper.validate();\r\n\t\t\tthis.invalidateLinks();\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Invalidates all links, attached to this node.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t */\r\n\tpublic invalidateLinks(): void {\r\n\r\n\t\tthis.outgoingDataItems.each((dataItem) => {\r\n\t\t\tlet link = dataItem.link;\r\n\t\t\tif (link.colorMode == \"fromNode\") {\r\n\t\t\t\tlink.fill = link.dataItem.fromNode.color;\r\n\t\t\t}\r\n\r\n\t\t\tif (link.colorMode == \"gradient\") {\r\n\r\n\t\t\t\tlink.fill = link.gradient;\r\n\t\t\t\tlink.stroke = link.gradient;\r\n\r\n\t\t\t\tlet stop = link.gradient.stops.getIndex(0);\r\n\r\n\t\t\t\tif (stop) {\r\n\t\t\t\t\tstop.color = this.color;\r\n\t\t\t\t\tlink.gradient.validate();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.incomingDataItems.each((dataItem) => {\r\n\t\t\tlet link = dataItem.link;\r\n\t\t\tif (link.colorMode == \"toNode\") {\r\n\t\t\t\tlink.fill = link.dataItem.toNode.color;\r\n\t\t\t}\r\n\r\n\t\t\tif (link.colorMode == \"gradient\") {\r\n\t\t\t\tlink.fill = link.gradient;\r\n\t\t\t\tlink.stroke = link.gradient;\r\n\r\n\t\t\t\tlet stop = link.gradient.stops.getIndex(1);\r\n\r\n\t\t\t\tif (stop) {\r\n\t\t\t\t\tstop.color = this.color;\r\n\t\t\t\t\tlink.gradient.validate();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * List of incoming items (links).\r\n\t *\r\n\t * @readonly\r\n\t * @return Incoming items\r\n\t */\r\n\tpublic get incomingDataItems(): List<this[\"_dataItem\"]> {\r\n\t\tif (!this._incomingDataItems) {\r\n\t\t\tlet incomingDataItems = new List<FlowDiagramDataItem>();\r\n\t\t\tincomingDataItems.events.on(\"inserted\", () => {\r\n\t\t\t\tif (this.chart.sortBy == \"name\") {\r\n\t\t\t\t\tthis._incomingSorted = $iter.sort(this._incomingDataItems.iterator(), (x, y) => $string.order(x.fromName, y.fromName));\r\n\t\t\t\t}\r\n\t\t\t\telse if (this.chart.sortBy == \"value\") {\r\n\t\t\t\t\tthis._incomingSorted = $iter.sort(this._incomingDataItems.iterator(), (x, y) => $order.reverse($number.order(x.value, y.value)));\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis._incomingSorted = this._incomingDataItems.iterator();\r\n\t\t\t\t}\r\n\t\t\t}, undefined, false);\r\n\t\t\tthis._incomingDataItems = incomingDataItems;\r\n\t\t}\r\n\t\treturn this._incomingDataItems;\r\n\t}\r\n\r\n\t/**\r\n\t * List of outgoing items (links).\r\n\t *\r\n\t * @readonly\r\n\t * @return Outgoing items\r\n\t */\r\n\tpublic get outgoingDataItems(): List<FlowDiagramDataItem> {\r\n\t\tif (!this._outgoingDataItems) {\r\n\t\t\tlet outgoingDataItems = new List<FlowDiagramDataItem>();\r\n\t\t\toutgoingDataItems.events.on(\"inserted\", () => {\r\n\t\t\t\tif (this.chart.sortBy == \"name\") {\r\n\t\t\t\t\tthis._outgoingSorted = $iter.sort(this._outgoingDataItems.iterator(), (x, y) => $string.order(x.fromName, y.fromName));\r\n\t\t\t\t}\r\n\t\t\t\telse if (this.chart.sortBy == \"value\") {\r\n\t\t\t\t\tthis._outgoingSorted = $iter.sort(this._outgoingDataItems.iterator(), (x, y) => $order.reverse($number.order(x.value, y.value)));\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis._outgoingSorted = this._outgoingDataItems.iterator();\r\n\t\t\t\t}\r\n\r\n\t\t\t}, undefined, false);\r\n\t\t\tthis._outgoingDataItems = outgoingDataItems;\r\n\t\t}\r\n\t\treturn this._outgoingDataItems;\r\n\t}\r\n\r\n\t/**\r\n\t * A name of the node.\r\n\t *\r\n\t * @param value  Name\r\n\t */\r\n\tpublic set name(value: string) {\r\n\t\tthis.setPropertyValue(\"name\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Name\r\n\t */\r\n\tpublic get name(): string {\r\n\t\treturn this.getPropertyValue(\"name\");\r\n\t}\r\n\r\n\t/**\r\n\t * Sum of all incoming+outgoing link values\r\n\t *\r\n\t * @param value  Value\r\n\t */\r\n\tpublic set total(value: number) {\r\n\t\tthis.setPropertyValue(\"total\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Value\r\n\t */\r\n\tpublic get total(): number {\r\n\t\treturn this.getPropertyValue(\"total\");\r\n\t}\r\n\r\n\t/**\r\n\t * Sum of all incomming link values.\r\n\t *\r\n\t * @param value  Value\r\n\t */\r\n\tpublic set totalIncoming(value: number) {\r\n\t\tthis.setPropertyValue(\"totalIncoming\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Value\r\n\t */\r\n\tpublic get totalIncoming(): number {\r\n\t\treturn this.getPropertyValue(\"totalIncoming\");\r\n\t}\r\n\r\n\t/**\r\n\t * Sum of all outgoing link values.\r\n\t *\r\n\t * @param value  Value\r\n\t */\r\n\tpublic set totalOutgoing(value: number) {\r\n\t\tthis.setPropertyValue(\"totalOutgoing\", value, true);\r\n\t}\r\n\r\n\t/**\r\n\t * @return Value\r\n\t */\r\n\tpublic get totalOutgoing(): number {\r\n\t\treturn this.getPropertyValue(\"totalOutgoing\");\r\n\t}\r\n\r\n\t/**\r\n\t * Node's color.\r\n\t *\r\n\t * @param value  Color\r\n\t */\r\n\tpublic set color(value: Color) {\r\n\t\tthis.setColorProperty(\"color\", value);\r\n\t\tif (this._background) {\r\n\t\t\tthis._background.fill = value;\r\n\t\t}\r\n\t\tthis.fill = value;\r\n\t}\r\n\r\n\t/**\r\n\t * @return Color\r\n\t */\r\n\tpublic get color(): Color {\r\n\t\treturn this.getPropertyValue(\"color\");\r\n\t}\r\n\r\n\t/**\r\n\t * Creates elements in related legend container, that mimics the look of this\r\n\t * Series.\r\n\t *\r\n\t * @ignore Exclude from docs\r\n\t * @param marker  Legend item container\r\n\t */\r\n\tpublic createLegendMarker(marker: Container) {\r\n\t\tlet w: number = marker.pixelWidth;\r\n\t\tlet h: number = marker.pixelHeight;\r\n\r\n\t\tmarker.removeChildren();\r\n\r\n\t\tlet column: RoundedRectangle = marker.createChild(RoundedRectangle);\r\n\t\tcolumn.shouldClone = false;\r\n\t\t$object.copyProperties(this, column, visualProperties);\r\n\t\tcolumn.stroke = this.fill;\r\n\r\n\t\tcolumn.copyFrom(<any>this);\r\n\t\tcolumn.padding(0, 0, 0, 0); // if columns will have padding (which is often), legend marker will be very narrow\r\n\t\tcolumn.width = w;\r\n\t\tcolumn.height = h;\r\n\r\n\t\tlet legendDataItem = <LegendDataItem>marker.dataItem;\r\n\t\tlegendDataItem.color = column.fill;\r\n\t\tlegendDataItem.colorOrig = column.fill;\r\n\t}\r\n\r\n\t/**\r\n\t * Legend data item that corresponds to this series.\r\n\t *\r\n\t * @param value  Data item\r\n\t */\r\n\tpublic set legendDataItem(value: LegendDataItem) {\r\n\t\tthis._legendDataItem = value;\r\n\t\tthis._legendDataItem.itemContainer.deepInvalidate();\r\n\t}\r\n\r\n\t/**\r\n\t * @return Data item\r\n\t */\r\n\tpublic get legendDataItem(): LegendDataItem {\r\n\t\treturn this._legendDataItem;\r\n\t}\r\n}\r\n\r\n/**\r\n * Register class in system, so that it can be instantiated using its name from\r\n * anywhere.\r\n *\r\n * @ignore\r\n */\r\nregistry.registeredClasses[\"FlowDiagramNode\"] = FlowDiagramNode;\r\n"]},"metadata":{},"sourceType":"module"}